<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="es">
<head>
<!-- Generated by javadoc (1.8.0_20) on Fri Mar 27 13:34:43 ART 2015 -->
<title>ShoppingController</title>
<meta name="date" content="2015-03-27">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ShoppingController";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">finalProject.shopping.core</div>
<h2 title="Class ShoppingController" class="title">Class ShoppingController</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>finalProject.shopping.core.ShoppingController</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@RestController
public class <span class="typeNameLabel">ShoppingController</span>
extends java.lang.Object</pre>
<div class="block">This is the controller of the Shopping Cart Service. Once the application has
 started, you can go to the following URLs without authentication:
 <ul>
 <li><a href="http://localhost:8080/">localhost:8080/</a> to start</li>
 <li><a
 href="http://localhost:8080/product/load">localhost:8080/product/load</a> to
 initialize the database</li>
 <li><a href="http://localhost:8080/login">localhost:8080/login</a> to login</li>
 <li><a href="http://localhost:8080/register">localhost:8080/register</a> to
 register a new user</li>
 </ul>
 And once you are logged in, you can go to the following URLs:
 <ul>
 <li><a
 href="http://localhost:8080/cart/additem">localhost:8080/cart/additem</a> to
 add an item to a cart</li>
 <li><a
 href="http://localhost:8080/cart/remitem">localhost:8080/cart/remitem</a> to
 remove an item from a cart</li>
 <li><a
 href="http://localhost:8080/cart/choosepay/1">localhost:8080/cart/choosepay
 /{cartid}</a> to begin the process to pay an order (shopping cart with ID
 {cartid})</li>
 <li><a
 href="http://localhost:8080/payment/1">localhost:8080/payment/{paymentid}</a>
 to show the payment with ID paymentid</li>
 <li><a href="http://localhost:8080/user/1">localhost:8080/user/{userid}</a>
 to show the user with ID userid</li>
 <li><a
 href="http://localhost:8080/user/json=1">localhost:8080/user/json={userid
 }</a> to show the user as a json object with ID userid</li>
 <li><a href="http://localhost:8080/cart/1">localhost:8080/cart/{cartid}</a>
 to show the cart with ID cartid</li>
 <li><a
 href="http://localhost:8080/cart/json=1">localhost:8080/cart/json={cartid
 }</a> to show the cart as a json object with ID cartid</li>
 <li><a
 href="http://localhost:8080/product/1">localhost:8080/product/{productid}</a>
 to show the product with ID productid</li>
 <li><a
 href="http://localhost:8080/product/cat=10">localhost:8080/product/cat=
 {categorycode}</a> to show the products that belong to category with code
 categorycode</li>
 </ul></div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Elisabet Arratia</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#ShoppingController--">ShoppingController</a></span>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#addItem--">addItem</a></span>()</code>
<div class="block">It shows a form where the user can add items to a cart</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#addItemByPOST-org.springframework.security.core.Authentication-long-long-double-">addItemByPOST</a></span>(org.springframework.security.core.Authentication&nbsp;authentication,
             long&nbsp;cartId,
             long&nbsp;productId,
             double&nbsp;qty)</code>
<div class="block">It adds an item to a given shopping cart.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#addPayment-org.springframework.security.core.Authentication-java.lang.String-long-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">addPayment</a></span>(org.springframework.security.core.Authentication&nbsp;authentication,
          java.lang.String&nbsp;paymentType,
          long&nbsp;cartid,
          java.lang.String&nbsp;clientEmail,
          java.lang.String&nbsp;password,
          java.lang.String&nbsp;clientName,
          java.lang.String&nbsp;cardNumber)</code>
<div class="block">It receives a payment type, the ID of a shopping cart and data related to
 the payment type:
 
 If the payment type is 'cash', it does not receive extra data
 If the payment type is 'credit', it receives the name of the client
 and the credit card number
 If the payment type is PayPal, it receives the username and the
 password of the client
 
 
 If the given cart is related to an object Payment, it indicates an error.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#choosePay-long-">choosePay</a></span>(long&nbsp;cartId)</code>
<div class="block">It shows the view where the user must choose a payment type to pay the
 items in the cart given by <code>cartId</code>.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;finalProject.shopping.model.ShoppingCart&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#getJsonCartByGET-long-">getJsonCartByGET</a></span>(long&nbsp;shoppingCartId)</code>
<div class="block">It shows the content of a given shopping cart as a json object.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;finalProject.shopping.model.Payment&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#getJsonPaymentByGET-long-">getJsonPaymentByGET</a></span>(long&nbsp;paymentId)</code>
<div class="block">It shows the data of a given payment as a json object.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;finalProject.shopping.model.User&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#getJsonUserByGET-long-">getJsonUserByGET</a></span>(long&nbsp;userId)</code>
<div class="block">Shows data of a given User in json format.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#getStringCartByGET-long-">getStringCartByGET</a></span>(long&nbsp;shoppingCartId)</code>
<div class="block">It shows the content of a given shopping cart.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#getStringCartFromUserByGET-long-">getStringCartFromUserByGET</a></span>(long&nbsp;userId)</code>
<div class="block">It shows the content of the current cart of the given user with ID
 <code>userId</code>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#getStringProductByGET-long-">getStringProductByGET</a></span>(long&nbsp;productId)</code>
<div class="block">It shows the information about a product given by <code>productId</code>.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#getStringProductsInCategoryByGET-long-">getStringProductsInCategoryByGET</a></span>(long&nbsp;categoryCode)</code>
<div class="block">It shows all the products that belong to a given category.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#getStringUserByGET-long-">getStringUserByGET</a></span>(long&nbsp;userId)</code>
<div class="block">Shows data of a given User.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#insertUserByPOST-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">insertUserByPOST</a></span>(java.lang.String&nbsp;firstName,
                java.lang.String&nbsp;lastName,
                java.lang.String&nbsp;username,
                java.lang.String&nbsp;password)</code>
<div class="block">It receives data from a form with all the parameters needed to create a
 new User.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#loadBaby--">loadBaby</a></span>()</code>
<div class="block">It loads some examples.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#pay--">pay</a></span>()</code>
<div class="block">It shows the view where the user must insert data according to the
 payment type chosen</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#paymentComplete--">paymentComplete</a></span>()</code>
<div class="block">It shows the view with information about a completed transaction: items
 in the cart, total and total with discount.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#payRedirect-org.springframework.security.core.Authentication-java.lang.String-long-">payRedirect</a></span>(org.springframework.security.core.Authentication&nbsp;authentication,
           java.lang.String&nbsp;payment,
           long&nbsp;cartid)</code>
<div class="block">It receives <code>payment</code> and <code>cartid</code> from a form.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>org.springframework.web.servlet.ModelAndView</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#remItem--">remItem</a></span>()</code>
<div class="block">It shows a form where the user can remove items from a cart</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>org.springframework.http.ResponseEntity&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../finalProject/shopping/core/ShoppingController.html#removeItemByPOST-org.springframework.security.core.Authentication-long-long-">removeItemByPOST</a></span>(org.springframework.security.core.Authentication&nbsp;authentication,
                long&nbsp;cartId,
                long&nbsp;productId)</code>
<div class="block">It removes an item from a given shopping cart.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ShoppingController--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ShoppingController</h4>
<pre>public&nbsp;ShoppingController()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getStringCartByGET-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStringCartByGET</h4>
<pre>@RequestMapping(value="/cart/{shoppingCartId}",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;getStringCartByGET(@PathVariable
                                                                                                                                                                  long&nbsp;shoppingCartId)</pre>
<div class="block">It shows the content of a given shopping cart. If the cart is not related
 to a payment, i.e., it has not yet been paid, the view shows the
 following options:
 <ul>
 <li>Add an item to the current cart</li>
 <li>Remove an item from the current cart</li>
 <li>Start the process to pay the items</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>shoppingCartId</code> - the ID of the cart being showed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of items and some options if the
         <code>shoppingCartId</code> is correct, otherwise it shows an
         error message.</dd>
</dl>
</li>
</ul>
<a name="getJsonCartByGET-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJsonCartByGET</h4>
<pre>@RequestMapping(value="/cart/json={shoppingCartId}",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;finalProject.shopping.model.ShoppingCart&gt;&nbsp;getJsonCartByGET(@PathVariable
                                                                                                                                                                                             long&nbsp;shoppingCartId)</pre>
<div class="block">It shows the content of a given shopping cart as a json object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>shoppingCartId</code> - the ID of the cart being showed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the given shopping cart as a json object.</dd>
</dl>
</li>
</ul>
<a name="getStringCartFromUserByGET-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStringCartFromUserByGET</h4>
<pre>@RequestMapping(value="/cart/user={userId}",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;getStringCartFromUserByGET(@PathVariable
                                                                                                                                                                       long&nbsp;userId)</pre>
<div class="block">It shows the content of the current cart of the given user with ID
 <code>userId</code>. The current cart is the one that does not have a
 payment associated. It is assumed that each user has exactly one current
 cart. If there is a chance that one user has more than two current carts,
 this method will take as valid the first one it finds. If the user does
 not have a current cart, it means there was an error inserting carts
 inthe DB, or the user does not exists.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - The ID of the user whose current cart is showed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The list of items and some options if the <code>userId</code> is
         correct, otherwise it shows an error message.</dd>
</dl>
</li>
</ul>
<a name="addItem--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addItem</h4>
<pre>@RequestMapping(value="/cart/additem")
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;addItem()</pre>
<div class="block">It shows a form where the user can add items to a cart</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the view.</dd>
</dl>
</li>
</ul>
<a name="remItem--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remItem</h4>
<pre>@RequestMapping(value="/cart/remitem")
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;remItem()</pre>
<div class="block">It shows a form where the user can remove items from a cart</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the view.</dd>
</dl>
</li>
</ul>
<a name="pay--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pay</h4>
<pre>@RequestMapping(value="/cart/pay")
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;pay()</pre>
<div class="block">It shows the view where the user must insert data according to the
 payment type chosen</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the view.</dd>
</dl>
</li>
</ul>
<a name="choosePay-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>choosePay</h4>
<pre>@RequestMapping(value="/cart/choosepay/{cartId}")
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;choosePay(@PathVariable
                                                                                                                 long&nbsp;cartId)</pre>
<div class="block">It shows the view where the user must choose a payment type to pay the
 items in the cart given by <code>cartId</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cartId</code> - the ID of the user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the view.</dd>
</dl>
</li>
</ul>
<a name="paymentComplete--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>paymentComplete</h4>
<pre>@RequestMapping(value="/payment/paymentcomplete")
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;paymentComplete()</pre>
<div class="block">It shows the view with information about a completed transaction: items
 in the cart, total and total with discount.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the view</dd>
</dl>
</li>
</ul>
<a name="getStringProductByGET-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStringProductByGET</h4>
<pre>@RequestMapping(value="/product/{productId}",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;getStringProductByGET(@PathVariable
                                                                                                                                                                   long&nbsp;productId)</pre>
<div class="block">It shows the information about a product given by <code>productId</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>productId</code> - The ID of the product being showed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>information about a product if it exists.</dd>
</dl>
</li>
</ul>
<a name="getStringProductsInCategoryByGET-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStringProductsInCategoryByGET</h4>
<pre>@RequestMapping(value="/product/cat={categoryCode}",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;getStringProductsInCategoryByGET(@PathVariable
                                                                                                                                                                                     long&nbsp;categoryCode)</pre>
<div class="block">It shows all the products that belong to a given category. There is a
 category tree, in this case with 3 levels. Each level has children, which
 are also categories themselves. A product belongs to exactly one category
 in the lower level: i.e., one of the leaves of the tree. This method
 shows all the products belonging to the subtree of the given category.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>categoryCode</code> - The Code of the category.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>all the products belonging to the category with code
         <code>categoryCode</code>, if the code is not correct, it shows
         an error message.</dd>
</dl>
</li>
</ul>
<a name="getStringUserByGET-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getStringUserByGET</h4>
<pre>@RequestMapping(value="/user/{userId}",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;getStringUserByGET(@PathVariable
                                                                                                                                                          long&nbsp;userId)</pre>
<div class="block">Shows data of a given User.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - The ID of the user being showed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Data of a given User. If the user does not exist, it shows a
         message.</dd>
</dl>
</li>
</ul>
<a name="getJsonUserByGET-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJsonUserByGET</h4>
<pre>@RequestMapping(value="/user/json={userId}",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;finalProject.shopping.model.User&gt;&nbsp;getJsonUserByGET(@PathVariable
                                                                                                                                                                             long&nbsp;userId)</pre>
<div class="block">Shows data of a given User in json format.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>userId</code> - The ID of the user being showed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Data of a given User in json format. If the user does not exist,
         it shows a message.</dd>
</dl>
</li>
</ul>
<a name="insertUserByPOST-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertUserByPOST</h4>
<pre>@RequestMapping(value="/newuser",
                method=POST)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;insertUserByPOST(@RequestParam(value="firstname",defaultValue="")
                                                                                                                                                   java.lang.String&nbsp;firstName,
                                                                                                                                                   @RequestParam(value="lastname",defaultValue="")
                                                                                                                                                   java.lang.String&nbsp;lastName,
                                                                                                                                                   @RequestParam(value="username",defaultValue="")
                                                                                                                                                   java.lang.String&nbsp;username,
                                                                                                                                                   @RequestParam(value="password",defaultValue="")
                                                                                                                                                   java.lang.String&nbsp;password)</pre>
<div class="block">It receives data from a form with all the parameters needed to create a
 new User. If the username provided already exists, it asks the user to
 change it. It also creates a new empty shopping cart for the user.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>firstName</code> - first name of the user</dd>
<dd><code>lastName</code> - last name of the user</dd>
<dd><code>username</code> - username of the user</dd>
<dd><code>password</code> - password of the user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a message to indicate if the user was created or not.</dd>
</dl>
</li>
</ul>
<a name="addItemByPOST-org.springframework.security.core.Authentication-long-long-double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addItemByPOST</h4>
<pre>@RequestMapping(value="/cart/_additem",
                method=POST)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;addItemByPOST(org.springframework.security.core.Authentication&nbsp;authentication,
                                                                                                                                                      @RequestParam(value="cartId",defaultValue="0")
                                                                                                                                                      long&nbsp;cartId,
                                                                                                                                                      @RequestParam(value="productId",defaultValue="0")
                                                                                                                                                      long&nbsp;productId,
                                                                                                                                                      @RequestParam(value="qty",defaultValue="0")
                                                                                                                                                      double&nbsp;qty)</pre>
<div class="block">It adds an item to a given shopping cart. If the user requesting this
 method is not the owner of the shopping cart, it does not add the given
 Item. If the product already exists in the cart, it adds the quantities.
 The following will return an error message:
 <ul>
 <li>The cart doesn't exist</li>
 <li>The product doesn't exist</li>
 <li>The quantity is zero or less</li>
 <li>The requesting user is not the owner of the cart</li>
 <li>The cart has been paid</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authentication</code> - object to obtain the user logged in</dd>
<dd><code>cartId</code> - the ID of the cart where the item will be added</dd>
<dd><code>productId</code> - the ID of the product to be added</dd>
<dd><code>qty</code> - the quantity of product to be added</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A message indicating if the request was successful.</dd>
</dl>
</li>
</ul>
<a name="removeItemByPOST-org.springframework.security.core.Authentication-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeItemByPOST</h4>
<pre>@RequestMapping(value="/cart/_remitem",
                method=POST)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;removeItemByPOST(org.springframework.security.core.Authentication&nbsp;authentication,
                                                                                                                                                         @RequestParam(value="cartId",defaultValue="0")
                                                                                                                                                         long&nbsp;cartId,
                                                                                                                                                         @RequestParam(value="productId",defaultValue="0")
                                                                                                                                                         long&nbsp;productId)</pre>
<div class="block">It removes an item from a given shopping cart. If the user requesting
 this method is not the owner of the shopping cart, it does not remove the
 given Item. It does not indicate an error if the product is not in the
 cart. The following will return an error message:
 <ul>
 <li>The cart doesn't exist</li>
 <li>The product doesn't exist</li>
 <li>The requesting user is not the owner of the cart</li>
 <li>The cart has been paid</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authentication</code> - object to obtain the user logged in</dd>
<dd><code>cartId</code> - ID of the cart from where the item is to be removed</dd>
<dd><code>productId</code> - ID of the product to be removed</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>A message indicating if the request was successful.</dd>
</dl>
</li>
</ul>
<a name="payRedirect-org.springframework.security.core.Authentication-java.lang.String-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>payRedirect</h4>
<pre>@RequestMapping(value="/payment/showpayment",
                method=POST)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;payRedirect(org.springframework.security.core.Authentication&nbsp;authentication,
                                                                                                                                             @RequestParam(value="payment",required=true)
                                                                                                                                             java.lang.String&nbsp;payment,
                                                                                                                                             @RequestParam(value="cartid",required=true)
                                                                                                                                             long&nbsp;cartid)</pre>
<div class="block">It receives <code>payment</code> and <code>cartid</code> from a form. It
 will get the object ShoppingCart from the DB and compare its owner with
 the user logged in. If they are note the same, it will show an error. It
 also shows the item in the cart and the total amount to pay.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authentication</code> - object to obtain the user logged in</dd>
<dd><code>payment</code> - a string with the type of payment chosen by the user (cash,
            Paypal or credit card)</dd>
<dd><code>cartid</code> - the ID of the cart that will be paid</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a view with information about the cart, or a message in case of
         error.</dd>
</dl>
</li>
</ul>
<a name="addPayment-org.springframework.security.core.Authentication-java.lang.String-long-java.lang.String-java.lang.String-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addPayment</h4>
<pre>@RequestMapping(value="/payment/addpayment",
                method=POST)
public&nbsp;org.springframework.web.servlet.ModelAndView&nbsp;addPayment(org.springframework.security.core.Authentication&nbsp;authentication,
                                                                                                                                           @RequestParam(value="payment",required=true)
                                                                                                                                           java.lang.String&nbsp;paymentType,
                                                                                                                                           @RequestParam(value="cartid",required=true)
                                                                                                                                           long&nbsp;cartid,
                                                                                                                                           @RequestParam(value="clientemail",required=false)
                                                                                                                                           java.lang.String&nbsp;clientEmail,
                                                                                                                                           @RequestParam(value="password",required=false)
                                                                                                                                           java.lang.String&nbsp;password,
                                                                                                                                           @RequestParam(value="clientname",required=false)
                                                                                                                                           java.lang.String&nbsp;clientName,
                                                                                                                                           @RequestParam(value="creditcard",required=false)
                                                                                                                                           java.lang.String&nbsp;cardNumber)</pre>
<div class="block">It receives a payment type, the ID of a shopping cart and data related to
 the payment type:
 <ul>
 <li>If the payment type is 'cash', it does not receive extra data</li>
 <li>If the payment type is 'credit', it receives the name of the client
 and the credit card number</li>
 <li>If the payment type is PayPal, it receives the username and the
 password of the client</li>
 </ul>
 
 If the given cart is related to an object Payment, it indicates an error.
 It means that the order has already been paid, so the user cannot pay it
 again. If the user logged in is not the owner of the given cart, it
 indicates an error.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>authentication</code> - object to obtain the user logged in</dd>
<dd><code>paymentType</code> - chosen payment type</dd>
<dd><code>cartid</code> - ID of the cart</dd>
<dd><code>clientEmail</code> - Client's e-mail</dd>
<dd><code>password</code> - Client's password</dd>
<dd><code>clientName</code> - Client's name</dd>
<dd><code>cardNumber</code> - Credit card number</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Data of the order being paid, or an error message if the order
         has already been paid or the user logged in is not the owner of
         the cart.</dd>
</dl>
</li>
</ul>
<a name="getJsonPaymentByGET-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJsonPaymentByGET</h4>
<pre>@RequestMapping(value="/payment/{paymentId}",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;finalProject.shopping.model.Payment&gt;&nbsp;getJsonPaymentByGET(@PathVariable
                                                                                                                                                                                    long&nbsp;paymentId)</pre>
<div class="block">It shows the data of a given payment as a json object.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paymentId</code> - the ID of the payment being showed.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the given payment as a json object.</dd>
</dl>
</li>
</ul>
<a name="loadBaby--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>loadBaby</h4>
<pre>@RequestMapping(value="/product/load",
                method=GET)
public&nbsp;org.springframework.http.ResponseEntity&lt;java.lang.String&gt;&nbsp;loadBaby()</pre>
<div class="block">It loads some examples. Categories: (Code - Category)
 <ul>
 <li>10 - Food</li>
 <li>1000 - Canned</li>
 <li>100000 - Tuna&amp;SeaFood</li>
 <li>1001 - Meat&amp;Poultry</li>
 <li>100100 - Pork</li>
 <li>100101 - Beef</li>
 <li>1002 - Dairy&amp;Cheese</li>
 <li>100200 - Cheese</li>
 <li>1003 - Fruit&amp;Vegetables</li>
 <li>100300 - Fruit</li>
 <li>1004 - Condiments</li>
 <li>100400 - Salt</li>
 <li>1005 - Grain&amp;Pasta</li>
 <li>100500 - Rice</li>
 <li>1006 - Snacks</li>
 <li>100600 - Chips</li>
 <li>11 - Beverages</li>
 <li>1100 - Infusions</li>
 <li>110000 - Yerba</li>
 <li>1101 - No-Alcohol</li>
 <li>110100 - Soft-Drinks</li>
 <li>1102 - Alcohol</li>
 <li>110200 - Beer</li>
 </ul>
 
 Products:
 <ul>
 <li>1- La Campagnola Tuna</li>
 <li>2- Paladini Ham</li>
 <li>3- Paty Hamburger x4</li>
 <li>4- Cremon Cheese</li>
 <li>5- Orange</li>
 <li>6- Celusal Salt 1/2Kg</li>
 <li>7- Mocovi Rice 1/2kg</li>
 <li>8- Pringles Chips x360gr</li>
 <li>9- Amanda Yerba</li>
 <li>10- Coca Cola 2.25lt</li>
 <li>11- Heineken Beer 1lt</li>
 </ul>
 
 Clients:
 <ul>
 <li>Mario Spagnoli, mspagnoli, pass: 1234</li>
 <li>Peg Jeanbaptiste, pjbaptiste, pass: 1234</li>
 <li>Kiara Boyles, kboyles, pass: 1234</li>
 </ul>
 
 Each one of these users has one paid cart, and one current cart.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a message to indicate the items had been added</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
</body>
</html>
